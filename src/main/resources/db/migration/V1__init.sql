--SQL representation of changelog. It is created because Liquibase uses too many reflection.
CREATE TABLE DATABASECHANGELOGLOCK (ID INT NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP, LOCKEDBY VARCHAR(255), CONSTRAINT PK_DATABASECHANGELOGLOCK PRIMARY KEY (ID));
DELETE FROM DATABASECHANGELOGLOCK;
INSERT INTO DATABASECHANGELOGLOCK (ID, LOCKED) VALUES (1, FALSE);
CREATE TABLE DATABASECHANGELOG (ID VARCHAR(255) NOT NULL, AUTHOR VARCHAR(255) NOT NULL, FILENAME VARCHAR(255) NOT NULL, DATEEXECUTED TIMESTAMP NOT NULL, ORDEREXECUTED INT NOT NULL, EXECTYPE VARCHAR(10) NOT NULL, MD5SUM VARCHAR(35), DESCRIPTION VARCHAR(255), COMMENTS VARCHAR(255), TAG VARCHAR(255), LIQUIBASE VARCHAR(20), CONTEXTS VARCHAR(255), LABELS VARCHAR(255), DEPLOYMENT_ID VARCHAR(10));
CREATE TABLE account (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created_on TIMESTAMP DEFAULT NOW NOT NULL, name VARCHAR(255) NOT NULL, money DECIMAL(16, 5) NOT NULL, CONSTRAINT PK_ACCOUNT PRIMARY KEY (id));
INSERT INTO DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1', 'mikeldpl', 'changelog.xml', NOW, 1, '8:1738b9824aaf6509b1d0555d51691150', 'createTable tableName=account', '', 'EXECUTED', NULL, NULL, '3.6.3', '9707643510');
CREATE TABLE transfer (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created_on TIMESTAMP DEFAULT NOW NOT NULL, status TINYINT NOT NULL, sender_account_id BIGINT NOT NULL, receiver_account_id BIGINT NOT NULL, amount DECIMAL(16, 5) NOT NULL, CONSTRAINT PK_TRANSFER PRIMARY KEY (id));
INSERT INTO DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2', 'mikeldpl', 'changelog.xml', NOW, 2, '8:45d06e09bb492ccf3b906fbc514bee42', 'createTable tableName=transfer', '', 'EXECUTED', NULL, NULL, '3.6.3', '9707643510');
ALTER TABLE transfer ADD CONSTRAINT fk_transfer_sender_account FOREIGN KEY (sender_account_id) REFERENCES account (id);
INSERT INTO DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2.1', 'mikeldpl', 'changelog.xml', NOW, 3, '8:89e1980a9344b8f2a534669a502c5458', 'addForeignKeyConstraint baseTableName=transfer, constraintName=fk_transfer_sender_account, referencedTableName=account', '', 'EXECUTED', NULL, NULL, '3.6.3', '9707643510');
ALTER TABLE transfer ADD CONSTRAINT fk_transfer_receiver_account FOREIGN KEY (receiver_account_id) REFERENCES account (id);
INSERT INTO DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('2.2', 'mikeldpl', 'changelog.xml', NOW, 4, '8:56f631c5ecaae3f76fb5b2251d560693', 'addForeignKeyConstraint baseTableName=transfer, constraintName=fk_transfer_receiver_account, referencedTableName=account', '', 'EXECUTED', NULL, NULL, '3.6.3', '9707643510');
CREATE TABLE transfer_action (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, created_on TIMESTAMP DEFAULT NOW NOT NULL, next_status TINYINT NOT NULL, reason VARCHAR(1024), transfer_id BIGINT NOT NULL, CONSTRAINT PK_TRANSFER_ACTION PRIMARY KEY (id));
INSERT INTO DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3', 'mikeldpl', 'changelog.xml', NOW, 5, '8:32b2ac826a98027649076f0926168e1e', 'createTable tableName=transfer_action', '', 'EXECUTED', NULL, NULL, '3.6.3', '9707643510');
ALTER TABLE transfer_action ADD CONSTRAINT fk_transfer_action_transfer FOREIGN KEY (transfer_id) REFERENCES transfer (id);
INSERT INTO DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('3.1', 'mikeldpl', 'changelog.xml', NOW, 6, '8:96bc9237fd2688d29270782cdbd90587', 'addForeignKeyConstraint baseTableName=transfer_action, constraintName=fk_transfer_action_transfer, referencedTableName=transfer', '', 'EXECUTED', NULL, NULL, '3.6.3', '9707643510');
